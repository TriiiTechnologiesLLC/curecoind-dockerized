
# curecoind‑dockerized

Docker‑image for **Curecoin Core** (`curecoind`) – the reference implementation of the Curecoin protocol.  
The image is built from the official Curecoin source (Ubuntu 22.04 LTS) and is ready to run on **amd64** or **arm64** hosts.

> **Link to the upstream source**  
> https://github.com/cygnusxi/CurecoinSource

---

## Table of Contents

| Section | What you’ll find |
|---------|-----------------|
| [Overview](#overview) | What the project is about |
| [Supported Architectures](#supported-architectures) | CPU architectures the image can run on |
| [Prerequisites](#prerequisites) | Software you need locally |
| [Getting the Code](#getting-the-code) | Clone the repo |
| [Building the Image](#building-the-image) | Build a custom tag |
| [Running the Container](#running-the-container) | Default and custom data‑volume usage |
| [Configuration](#configuration) | How to create the `~/.curecoin` directory and the config file |
| [Interacting with Curecoin](#interacting-with-curecoin) | Exec commands and logs |
| [Troubleshooting](#troubleshooting) | Common pitfalls & how to fix them |
| [Contributing](#contributing) | How you can help |
| [License](#license) | Open‑source license |

---

## Overview

`curecoind-dockerized` ships the `curecoind` binary in a minimal container that:

* Uses the **default Curecoin configuration paths** (`~/.curecoin`).
* Exposes the JSON‑RPC port **9911** (by default; configurable with `-p`).
* Stores blockchain data in a Docker **volume** so that the data survives container recreation.
* Can be run as a **systemd service** (via `--restart always`) for a “daemon‑like” experience.

---

## Supported Architectures

| Architecture | Directory in repo |
|--------------|-------------------|
| `amd64` | `amd64/` |
| `arm64` | `arm64/` |

> Only the two most common CPU families are provided. If you need a different architecture, you can modify the `Dockerfile` and build locally.

---

## Prerequisites

| Item | Minimum Version |
|------|-----------------|
| Docker Engine | 20.10+ |
| Docker Compose (optional) | 1.27+ |
| Git | 2.25+ |

> The images are **Ubuntu‑based**; they run on any Linux distribution that supports Docker.

---

## Getting the Code

```bash
git clone https://github.com/TriiiTechnologiesLLC/curecoind-dockerized.git
```

Navigate into the architecture sub‑directory you want to use:

```bash
cd curecoind-dockerized/amd64      # or `arm64`
```

---

## Building the Image

```bash
docker build -t local:curecoind .
```

* `local:curecoind` is a convenient tag; feel free to change it (e.g., `curecoind:latest`).

---

## Running the Container

### 1. Default data directory (`/root/.curecoin`)

```bash
docker run \
  --restart always \
  --name curecoind \
  -d \
  -p 9911:9911 \
  -v /root/.curecoin:/root/.curecoin \
  local:curecoind
```

- **`--restart always`**: ensures the container restarts automatically on host reboot or Docker restart.  
- **`-p 9911:9911`**: exposes the RPC port to the host (change if you need another port).  
- **`-v /root/.curecoin:/root/.curecoin`**: mounts a persistent volume.  
  *If you have already run `curecoind` on this host, this will reuse the existing data.*

### 2. Custom data directory

```bash
docker run \
  --restart always \
  --name curecoind \
  -d \
  -p 9911:9911 \
  -v /var/path/to/my/.curecoin:/root/.curecoin \
  local:curecoind
```

> Replace `/var/path/to/my/.curecoin` with an absolute host path of your choice.

---

## Configuration

The first time you run the container, `curecoind` will generate a default `~/.curecoin/curecoin.conf` file with placeholder settings. To start mining or run a full node, you must provide your own configuration:

```bash
# View the autogenerated config
docker logs curecoind
```

Copy the contents of the log to a file called `curecoin.conf` inside the data directory (`/root/.curecoin` by default).  
Typical minimal configuration:

```ini
# ~/.curecoin/curecoin.conf
rpcuser=yourrpcuser
rpcpassword=yourstrongrpcpassword
server=1
rpcallowip=127.0.0.1
rpcport=9911
daemon=1
```

> *Tip:* Add `rpcport=9911` to match the port you published with `-p`.  
> *Tip:* Use a strong password or generate a random string with `openssl rand -hex 32`.

Once the file is present, restart the container:

```bash
docker restart curecoind
```

---

## Interacting with Curecoin

### Command‑line RPC

```bash
docker exec -it curecoind curecoind getinfo
```

### Interactive shell

```bash
docker exec -it curecoind bash
# Inside the container:
./curecoind getinfo
```

### Logs

```bash
docker logs -f curecoind
```

*`-f`* streams logs live.

---

## Troubleshooting

| Symptom | Likely Cause | Fix |
|---------|--------------|-----|
| Container exits immediately | No `curecoin.conf` or invalid config | Create/validate `curecoin.conf` as shown above |
| RPC calls fail | Wrong RPC port or firewall | Ensure `-p 9911:9911` and that the host allows outbound connections to that port |
| High CPU usage | Full‑node sync on a cold chain | Give the container time to sync, or run a pruned node by adding `prune=1` to `curecoin.conf` |
| No data persists | Volume not mounted correctly | Verify the `-v` flag points to an absolute path; check `docker volume ls` if using named volumes |

---

## Contribution

Feel free to open issues or pull requests.  
If you’d like to:

1. Add support for another architecture (e.g., `armv7`).
2. Improve the `Dockerfile` (multi‑stage build, smaller image, etc.).
3. Write better documentation or add Docker Compose examples.

Just fork the repo, make your changes, and submit a PR.

---

## License
MIT © Triii Technologies LLC
